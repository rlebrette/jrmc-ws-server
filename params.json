{"name":"Jrmc-ws-server","tagline":"node.js","body":"# JRMC WS Server and Remote Client\r\n\r\njrmc-ws-server is a webserver including a websocket API that exposes the JRiver Media Center WS API for web clients.\r\n\r\nIt comes with a javascript client side library that offers the following features:\r\n\r\n * all data is formatted as JSON objects,\r\n * the available services are exposed as meaningful functions,\r\n * the functions are asynchrone and provide a callback feature allowing the client to handle the result,\r\n\r\nFinally, this javascript library is used in a JQuery Mobile based web client.\r\n\r\n# Install the server\r\n\r\nEverything is built on top of node.js :\r\n\r\n * first you have to have an existing node.js installation.\r\n * next you have to download additional modules in the project:\r\n\r\n```bash\r\n$ npm update\r\n```\r\n\r\n# Configure the server\r\n\r\nEdit the configuration.json and update the configuration:\r\n\r\n```js\r\n{\r\n    \"wsPort\": 1337,\r\n    \"webPort\": 8080,\r\n    \"webHost\": \"localhost\",\r\n    \"jrmcHost\": \"localhost\",\r\n    \"jrmcPort\": 52199,\r\n    \"jrmcAuthenticate\": \"user:password\",\r\n    \"logger\":{\r\n        \"info\": \"std:logger\",\r\n        \"trace\": \"std:logger\"}\r\n}\r\n```\r\n\r\nwsPort is the websocket port that will be used.\r\nwebPort is the port that will be used to deploy the Remote Client webapp\r\nwebHost is the ip or DNS name of the machine where this installation is running on, it's used by the web client to retrieve this instance.\r\njrmcHost is the ip or DNS name of the machine where JRMC is running on, it's recommended that keep the server on the same machine that the one hosting JRMC.\r\njrmcPort is the port of the JRMC MCWS services\r\njrmAuthenticate is the information that allows this server to connect to JRMC if authentication is activated.\r\n\r\n# Run the server\r\n\r\n```bash\r\n $ npm start\r\n```\r\n\r\n# Exposed clients API\r\n\r\nConnecting the websocket server from a client is as easy as writing the following code:\r\n\r\n```js\r\nvar jrmc = new JRMC.Client(\"client\", 'ws://host:port/');\r\n````\r\n\r\n- *Watch a given zone*, every seconds the given function will be called with the information of that zone.\r\njrmc.watchZone(zoneId, function(zoneInfo) {})\r\n\r\n- *Browse the library*, fetch the information for the given key.\r\njrmc.fetchItems(key, function(items) {})\r\n\r\n- *Fetch the current playlist*\r\njrmc.fetchPlaylist(function(items) {})\r\n\r\njrmc.play()\r\n\r\njrmc.pause()\r\n\r\njrmc.stop()\r\n\r\njrmc.next()\r\n\r\njrmc.previous()\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}